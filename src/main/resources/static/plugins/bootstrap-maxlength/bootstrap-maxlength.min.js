!function(f){"use strict";f.event.special.destroyed||(f.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}),f.fn.extend({maxlength:function(i,t){var e=f("body");function o(t){var e=t.val();e=i.twoCharLinebreak?e.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"):e.replace(new RegExp("\r?\n","g"),"\n");return i.utf8?function(t){for(var e=0,a=0;a<t.length;a++){var n=t.charCodeAt(a);n<128?e++:e+=127<n&&n<2048?2:3}return e}(e):e.length}function r(t,e){return e-o(t)}function s(t,e){e.css({display:"block"}),t.trigger("maxlength.shown")}function l(t,e,a){var n="";return i.message?n="function"==typeof i.message?i.message(t,e):i.message.replace("%charsTyped%",a).replace("%charsRemaining%",e-a).replace("%charsTotal%",e):(i.preText&&(n+=i.preText),i.showCharsTyped?n+=a:n+=e-a,i.showMaxLength&&(n+=i.separator+e),i.postText&&(n+=i.postText)),n}function c(t,e,a,n){n&&(n.html(l(e.val(),a,a-t)),0<t?function(t,e,a){var n=!0;return!i.alwaysShow&&a-o(t)>e&&(n=!1),n}(e,i.threshold,a)?s(e,n.removeClass(i.limitReachedClass).addClass(i.warningClass)):function(t,e){i.alwaysShow||(e.css({display:"none"}),t.trigger("maxlength.hidden"))}(e,n):s(e,n.removeClass(i.warningClass).addClass(i.limitReachedClass))),i.customMaxAttribute&&(t<0?e.addClass("overmax"):e.removeClass("overmax"))}function h(t,e){var a=function(t){var e=t[0];return f.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},t.offset())}(t);if("function"!==f.type(i.placement))if(f.isPlainObject(i.placement))!function(t,e){if(!t||!e)return;var n={};f.each(["top","bottom","left","right","position"],function(t,e){var a=i.placement[e];void 0!==a&&(n[e]=a)}),e.css(n)}(i.placement,e);else{var n=t.outerWidth(),o=e.outerWidth(),s=e.width(),r=e.height();switch(i.appendToParent&&(a.top-=t.parent().offset().top,a.left-=t.parent().offset().left),i.placement){case"bottom":e.css({top:a.top+a.height,left:a.left+a.width/2-s/2});break;case"top":e.css({top:a.top-r,left:a.left+a.width/2-s/2});break;case"left":e.css({top:a.top+a.height/2-r/2,left:a.left-s});break;case"right":e.css({top:a.top+a.height/2-r/2,left:a.left+a.width});break;case"bottom-right":e.css({top:a.top+a.height,left:a.left+a.width});break;case"top-right":e.css({top:a.top-r,left:a.left+n});break;case"top-left":e.css({top:a.top-r,left:a.left-o});break;case"bottom-left":e.css({top:a.top+t.outerHeight(),left:a.left-o});break;case"centered-right":e.css({top:a.top+r/2,left:a.left+n-o-3});break;case"bottom-right-inside":e.css({top:a.top+a.height,left:a.left+a.width-o});break;case"top-right-inside":e.css({top:a.top-r,left:a.left+n-o});break;case"top-left-inside":e.css({top:a.top-r,left:a.left});break;case"bottom-left-inside":e.css({top:a.top+t.outerHeight(),left:a.left})}}else i.placement(t,e,a)}function p(t){var e=t.attr("maxlength")||i.customMaxAttribute;if(i.customMaxAttribute&&!i.allowOverMax){var a=t.attr(i.customMaxAttribute);(!e||a<e)&&(e=a)}return e=e||t.attr("size")}return f.isFunction(i)&&!t&&(t=i,i={}),i=f.extend({showOnReady:!1,alwaysShow:!1,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important label-danger",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",message:null,showCharsTyped:!0,validate:!1,utf8:!1,appendToParent:!1,twoCharLinebreak:!0,customMaxAttribute:null,allowOverMax:!1},i),this.each(function(){var n,o,s=f(this);function t(){var t=l(s.val(),n,"0");n=p(s),o=o||f('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1e3}).html(t),s.is("textarea")&&(s.data("maxlenghtsizex",s.outerWidth()),s.data("maxlenghtsizey",s.outerHeight()),s.mouseup(function(){s.outerWidth()===s.data("maxlenghtsizex")&&s.outerHeight()===s.data("maxlenghtsizey")||h(s,o),s.data("maxlenghtsizex",s.outerWidth()),s.data("maxlenghtsizey",s.outerHeight())})),i.appendToParent?(s.parent().append(o),s.parent().css("position","relative")):e.append(o),c(r(s,p(s)),s,n,o),h(s,o)}f(window).resize(function(){o&&h(s,o)}),i.showOnReady?s.ready(function(){t()}):s.focus(function(){t()}),s.on("maxlength.reposition",function(){h(s,o)}),s.on("destroyed",function(){o&&o.remove()}),s.on("blur",function(){!o||i.showOnReady||i.alwaysShow||o.remove()}),s.on("input",function(){var t=p(s),e=r(s,t),a=!0;return i.validate&&e<0?(function(t,e){var a=t.val(),n=0;i.twoCharLinebreak&&"\n"===(a=a.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n")).substr(a.length-1)&&a.length%2==1&&(n=1),t.val(a.substr(0,e-n))}(s,t),a=!1):c(e,s,n,o),("bottom-right-inside"===i.placement||"top-right-inside"===i.placement||"function"==typeof i.placement||i.message&&"function"==typeof i.message)&&h(s,o),a})})}})}(jQuery);
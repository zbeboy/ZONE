<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
</head>
<body>
<div id="page-wrapper">
  <div class="br-pageheader pd-y-15 pd-l-20">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
      <a class="breadcrumb-item dy_href" href="#/web/menu/educational/examination">列表</a>
      <span class="breadcrumb-item active">权限分配</span>
    </nav>
  </div><!-- br-pageheader -->
  <div class="pd-x-20 pd-sm-x-30 pd-t-20 pd-sm-t-30">
    <h4 class="tx-gray-800 mg-b-5">教务考试</h4>
    <p class="mg-b-0">添加权限。</p>
  </div>

  <div class="br-pagebody">
    <div class="br-section-wrapper">
      <div class="row">
        <div class="col-md-12">
          <div>
            <div class="float-left">
              <span>数量: </span><span id="totalSize"></span>
            </div>
            <div class="float-right">
              <button type="button" id="authorize_add" class="btn btn-outline-primary btn-sm mr-2"><i
                      class="fa fa-plus"></i>添加
              </button>
              <button type="button" id="refresh" class="btn btn-light btn-sm"><i
                      class="fa fa-refresh"></i>刷新
              </button>
            </div>
          </div>
          <table class="tablesaw tablesaw-stack table table-striped mt-3" data-tablesaw-mode="stack"
                 id="dataTable">
            <thead>
            <tr>
              <th scope="col" data-tablesaw-priority="persist">姓名</th>
              <th scope="col" data-tablesaw-priority="persist">账号</th>
              <th scope="col">生效时间</th>
              <th scope="col">失效时间</th>
              <th scope="col">操作</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- 添加Modal -->
  <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModalLabel"
       aria-hidden="true" data-focus="false">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addModalLabel">添加账号</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form class="mg-t-20" id="app_form">
            <div class="form-group row">
              <div class="col-12">
                <input id="targetUsername" type="text" name="targetUsername" placeholder="账号"
                       class="form-control">
                <div class="invalid-feedback"></div>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-12">
                <input id="validDate" type="text" name="validDate" placeholder="生效时间"
                       class="form-control">
                <div class="invalid-feedback"></div>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-12">
                <input id="expireDate" type="text" name="expireDate" placeholder="失效时间"
                       class="form-control">
                <div class="invalid-feedback"></div>
              </div>
            </div>
            <div class="form-group text-danger" id="globalAddError"></div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="save">确定</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
        </div>
      </div>
    </div>
  </div>

  <!--定义数据模板-->
  <script id="data_template" type="text/x-handlebars-template">
    {{#each listResult}}
    <tr>
      <td>{{realName}}</td>
      <td>{{username}}</td>
      <td>{{validDateStr}}</td>
      <td>{{expireDateStr}}</td>
      <td>
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-danger btn-sm del" data-id="{{this.authoritiesId}}">删除
          </button>
        </div>
      </td>
    </tr>
    {{/each}}
  </script>

  <input type="hidden" class="dy_script"
         th:value="${@mvcResourceUrlProvider.getForLookupPath('/js/educational/examination/examination_authorize.js')}"/>
</div>
<!-- /#page-wrapper -->
</body>

</html>
<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
</head>
<body>
<div id="page-wrapper">
    <div class="pd-30">
        <h4 class="tx-gray-800 mg-b-5">校园课表</h4>
        <p class="mg-b-0">查看校园课表。</p>
    </div><!-- d-flex -->

    <div class="br-pagebody mg-t-5 pd-x-30">
        <div class="br-section-wrapper">
            <div class="row">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-4 mt-2">
                            <select class="form-control select2-show-search" id="school"
                                    data-placeholder="请选择学校">
                                <option label="请选择学校"></option>
                            </select>
                        </div>
                        <div class="col-md-4 mt-2">
                            <select class="form-control select2-show-search" id="college"
                                    data-placeholder="请选择院">
                                <option label="请选择院"></option>
                            </select>
                        </div>
                        <div class="col-md-4 mt-2">
                            <select class="form-control select2-show-search" id="schoolCalendar"
                                    data-placeholder="请选择校历">
                                <option label="请选择校历"></option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="card">
                        <div class="card-header tx-medium bd-0 tx-white bg-primary" id="title">
                        </div>
                        <div class="card-body color-gray-lighter">
                            <div class="row">
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-left tx-lg-left tx-xl-left tx-black mg-t-5"
                                     id="schoolName"></div>
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-center tx-lg-center tx-xl-center tx-black mg-t-5"
                                     id="collegeName"></div>
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-right tx-lg-right tx-xl-right tx-black mg-t-5"
                                     id="academicYear"></div>
                                <div class="col-md-6 tx-xs-center tx-sm-center tx-md-left tx-lg-left tx-xl-left tx-black mg-t-5"
                                     id="openDate"></div>
                                <div class="col-md-6 tx-xs-center tx-sm-center tx-md-right tx-lg-right tx-xl-right tx-black mg-t-5"
                                     id="holidayDate"></div>
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-left tx-lg-left tx-xl-left tx-black mg-t-5"
                                     id="nowDate"></div>
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-center tx-lg-center tx-xl-center tx-black mg-t-5"
                                     id="week"></div>
                                <div class="col-md-4 tx-xs-center tx-sm-center tx-md-right tx-lg-right tx-xl-right tx-black mg-t-5"
                                     id="weeks"></div>
                                <div class="col-md-12 tx-black mg-t-5" id="remark"></div>
                            </div>
                        </div><!-- card-body -->
                        <div class="card-footer tx-right">
                            <em id="releaseTimeStr"></em>
                        </div><!-- card-footer -->
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="float-right mg-t-5 mg-r-10">
                        <div class="dropdown">
                            <button class="btn btn-outline-primary dropdown-toggle" type="button"
                                    id="addTimetableButton" data-toggle="dropdown" aria-haspopup="true"
                                    aria-expanded="false">
                                <i class="fa fa-plus"></i> 新建课表
                            </button>
                            <div class="dropdown-menu" aria-labelledby="addTimetableButton">
                                <a class="dropdown-item" href="#/web/campus/timetable/add">空白课表</a>
                                <a class="dropdown-item" href="#/web/campus/timetable/share/add">导入共享课表</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="row">
                        <div class="col-md-12">
                            <select class="form-control select2-show-search" id="timetable"
                                    data-placeholder="请选择课表">
                                <option label="请选择课表"></option>
                            </select>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6 mg-t-5 tx-teal"><span>学年学期: </span><span id="yearAndTerm"></span>
                                </div>
                                <div class="col-md-6 mg-t-5 tx-teal"><span>共享ID: </span><span id="shareId"></span></div>
                                <div class="col-md-6 mg-t-5 tx-teal"><span>共享码: </span>
                                    <button type="button" class="btn btn-primary btn-sm" id="shareQrCode">
                                        点击查看
                                    </button>
                                </div>
                                <div class="col-md-6 mg-t-5 tx-teal"><span>共享次数: </span><span id="shareNumber"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="float-right mg-t-5">
                        <button type="button" class="btn btn-primary" id="editTimetable"><i
                                class="fa fa-pencil"></i> 编辑课表
                        </button>
                        <button type="button" class="btn btn-danger" id="delTimetable"><i
                                class="fa fa-trash"></i> 删除课表
                        </button>
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="float-right mg-t-5">
                        <button type="button" class="btn btn-outline-teal btn-sm" id="manageCourse"><i
                                class="fa fa-cog"></i> 管理课程
                        </button>
                    </div>
                    <div class="float-right mg-t-5 mg-r-4">
                        <div class="dropdown">
                            <button class="btn btn-primary btn-sm dropdown-toggle" type="button" id="addCourseButton"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-plus"></i> 添加课程
                            </button>
                            <div class="dropdown-menu" aria-labelledby="addTimetableButton">
                                <a class="dropdown-item" href="javascript:" id="addCourse">自定义课程</a>
                                <a class="dropdown-item" href="javascript:" id="addEduOrganize">导入教务班级课程</a>
                                <a class="dropdown-item" href="javascript:" id="addEduTeacher">导入教务教师课程</a>
                                <a class="dropdown-item" href="javascript:" id="addShareCourse">导入共享课程</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 mg-t-7">
                    <div class="float-right mg-t-5">
                        <label class="ckbox">
                            <input type="checkbox" name="simpleScreen" id="simpleScreen" value="1"/>
                            <span>简屏</span>
                        </label>
                    </div>
                    <div class="float-right mg-t-5 mg-r-20">
                        <label class="ckbox">
                            <input type="checkbox" name="showEffectiveCourse" id="showEffectiveCourse" value="1"/>
                            <span>显示有效课程</span>
                        </label>
                    </div>
                </div>
                <div class="col-md-12" id="defaultData">
                    <div class="table-responsive">
                        <table class="table table-bordered courseData">
                            <thead>
                            <tr>
                                <th>一</th>
                                <th>二</th>
                                <th>三</th>
                                <th>四</th>
                                <th>五</th>
                                <th>六</th>
                                <th>七</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td id="week1">
                                </td>
                                <td id="week2">
                                </td>
                                <td id="week3">
                                </td>
                                <td id="week4">
                                </td>
                                <td id="week5">
                                </td>
                                <td id="week6">
                                </td>
                                <td id="week7">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-md-12" id="simpleData" style="display: none;">
                    <div id="carousel" class="carousel slide carousel-fade courseData" data-interval="false">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-primary text-center">
                                        星期一
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek1">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-success text-center">
                                        星期二
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek2">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-warning text-center">
                                        星期三
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek3">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-info text-center">
                                        星期四
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek4">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-indigo text-center">
                                        星期五
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek5">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-pink text-center">
                                        星期六
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek6">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="card bd-0">
                                    <div class="card-header tx-medium bd-0 tx-white bg-teal text-center">
                                        星期天
                                    </div><!-- card-header -->
                                    <div class="card-body bd bd-t-0 rounded-bottom bg-dark" id="simpleWeek7">
                                    </div><!-- card-body -->
                                </div>
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="qrcodeModal" tabindex="-1" role="dialog" aria-labelledby="qrcodeModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="qrcodeModalLabel">共享码</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <img id="qrCodeUrl" src="" class="card-img" alt="共享码">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <script id="default-course-template" type="text/x-handlebars-template">
        <div class="card mg-t-5">
            <div class="card-header tx-medium bd-0 {{bgColor}}">
                {{courseName}}
            </div><!-- card-header -->
            <div class="card-body bd-t-0 rounded-bottom">
                <div class="row mg-b-0">
                    <div class="col-md-12">{{buildingName}}</div>
                    <div class="col-md-12">{{organizeName}}</div>
                    <div class="col-md-12">{{teacherName}}</div>
                    <div class="col-md-12">{{startWeek}}-{{endWeek}}周</div>
                    <div class="col-md-12">{{startTime}}-{{endTime}}</div>
                    <div class="col-md-12"> 备注：{{remark}}</div>
                </div>
                <div class="btn-group manageCourse" role="group" aria-label="Basic example" style="display: none">
                    <button type="button" class="btn btn-primary edit" data-id="{{campusCourseDataId}}">编辑</button>
                    <button type="button" class="btn btn-danger del" data-id="{{campusCourseDataId}}">删除</button>
                </div>
            </div><!-- card-body -->
        </div>
    </script>

    <script id="simple-course-template" type="text/x-handlebars-template">
        <div class="card card-body {{bgColor}} bd-0">
            <div class="row">
                <div class="col-md-12 card-text">{{courseName}}</div>
                <div class="col-md-4 card-text">{{buildingName}}</div>
                <div class="col-md-4 card-text">{{organizeName}}</div>
                <div class="col-md-4 card-text">{{teacherName}}</div>
                <div class="col-md-4 card-text">{{startWeek}}-{{endWeek}}周</div>
                <div class="col-md-4 card-text">{{startTime}}-{{endTime}}</div>
                <div class="col-md-12 card-text"> 备注：{{remark}}</div>
            </div>

            <div class="text-center">
                <div class="btn-group manageCourse" role="group" aria-label="Basic example" style="display: none">
                    <button type="button" class="btn btn-primary edit" data-id="{{campusCourseDataId}}">编辑</button>
                    <button type="button" class="btn btn-danger del" data-id="{{campusCourseDataId}}">删除</button>
                </div>
            </div>
        </div>
    </script>

    <input type="hidden" id="schoolId" th:value="${schoolId}"/>
    <input type="hidden" id="collegeId" th:value="${collegeId}"/>
    <input type="hidden" class="dy_script"
           th:value="${@mvcResourceUrlProvider.getForLookupPath('/js/campus/timetable/timetable_look.js')}"/>
</div>
<!-- /#page-wrapper -->
</body>

</html>